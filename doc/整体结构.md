infra下的代码是rpc框架的源代码:
- 根目录下的文件
  公用的内容,包括
  - erpc_version.h 版本检查
  - rpc_base.hpp CS 共用结构
  - rpc_status.h 状态码
- client
  - 客户端的代码, 主要包括客户端的连接/创建请求/发送请求等内容
  - rpc_client.h中还定义了用于保存请求信息的RequestContext类
- codec
  序列化层的代码,包括序列化方法的接口及其实现
  - codec_base定义了codec的整体接口
  - basic_codec中还包括了rpc协议的解码过程
  - message_buffer作为缓冲区工具也在此定义
- port:
  为移植做的一系列工作
  - 根目录下的文件:
    - config.h:利用HAS_CONFIG宏判断当前操作系统是POSIX还是FREERTOS
    - const.h: 定义了常量
    - port_assert.h: 根据环境使用不同库下的assert
    - port.h: 提供给其他内部/外部文件的头文件,包含上述三个文件和log.h, malloc_free.h
  - log:
    一个可移植的日志系统
    - port_log: 实现了一套linux下的日志,格式与freertos的日志相同.
    - port_net_info: 实现了freertos下的getnameinfo函数,提供了打印网络信息用的调试函数
    - port_prt_scn.h:用\<cinttype\>实现了可移植的格式化输入输出, 并且为几种特殊整数类型指定了长度
  - malloc_free:
    用不同的库进行动态内存管理
  - threading:
    线程管理,包括thread/mutex/semaphore的实现
    port_threading_espidf: 在espidf-freertos上利用task的实现
    port_threading_pthreads: 利用pthread实现
- server:
  服务端的代码,包括server的主线程/io线程/工作线程
    - server_base: 实现了service注册
    - simple_server: server的启动/停止, io线程的定义
    - server_worker: 工作线程的定义, 实现rpc的处理流程
- transport:
  传输层的代码
  - transport_base: receive/send/hasMessge
  - framed_transport: 简单的应用层协议,包头表明了包的长度.没有实现底层IO
  - tcp_worker: tcp实现底层IO 